2025-07-11 12:39:49,496 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 12:39:49] [INFO    ] discord.client: logging in using static token
2025-07-11 12:39:49,499 - INFO - logging in using static token
[2025-07-11 12:39:50] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 82784ed8ad949c6b5fe4d4074d8e197b).
2025-07-11 12:39:50,268 - INFO - Shard ID None has connected to Gateway (Session ID: 82784ed8ad949c6b5fe4d4074d8e197b).
2025-07-11 12:39:52,282 - INFO - cock is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:293: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 12:39:58,717 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 12:40:51,782 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 12:44:11,209 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 12:45:10,879 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 12:45:38,555 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 12:45:59,786 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 12:46:14,502 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 12:48:19,348 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 12:58:30,217 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 13:27:10,928 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 13:27:10] [INFO    ] discord.client: logging in using static token
2025-07-11 13:27:10,931 - INFO - logging in using static token
[2025-07-11 13:27:11] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: cbb54cf489e27b63d5fbacf742c9bd44).
2025-07-11 13:27:11,871 - INFO - Shard ID None has connected to Gateway (Session ID: cbb54cf489e27b63d5fbacf742c9bd44).
2025-07-11 13:27:13,884 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:362: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:343: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 13:27:25,067 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 13:27:43,052 - ERROR - Error in Whisper transcription: [Errno -2] Name or service not known
2025-07-11 13:27:43,052 - ERROR - Failed to transcribe audio
2025-07-11 13:27:45,200 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 13:34:46,140 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 13:36:16,992 - ERROR - Missing required Whisper API configuration
2025-07-11 13:36:16,993 - ERROR - Failed to transcribe audio
2025-07-11 13:36:24,116 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:23:42,948 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 14:23:42] [INFO    ] discord.client: logging in using static token
2025-07-11 14:23:42,952 - INFO - logging in using static token
[2025-07-11 14:23:43] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 120c18e007f3190e40d81c8c5162142c).
2025-07-11 14:23:43,723 - INFO - Shard ID None has connected to Gateway (Session ID: 120c18e007f3190e40d81c8c5162142c).
2025-07-11 14:23:45,744 - INFO - Ronin is now running! (hot config)
2025-07-11 14:25:19,369 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 14:25:19] [INFO    ] discord.client: logging in using static token
2025-07-11 14:25:19,373 - INFO - logging in using static token
[2025-07-11 14:25:20] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 89374386f5cd21b01f68ec161c69c7a5).
2025-07-11 14:25:20,134 - INFO - Shard ID None has connected to Gateway (Session ID: 89374386f5cd21b01f68ec161c69c7a5).
2025-07-11 14:25:22,155 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:362: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:343: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:362: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 14:26:33,285 - ERROR - Discord event error in on_message: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1017, in on_message
    await process_message(message, is_dm)
  File "/volume1/py/discord-llm-chatbot/main.py", line 637, in process_message
    profile = get_profile(user_id, username)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/volume1/py/discord-llm-chatbot/main.py", line 239, in get_profile
    data = json.load(f)
           ^^^^^^^^^^^^
  File "/var/services/homes/pry/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/json/__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "/var/services/homes/pry/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/services/homes/pry/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/json/decoder.py", line 338, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/services/homes/pry/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/json/decoder.py", line 356, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
/volume1/py/discord-llm-chatbot/main.py:343: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 14:26:35,478 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:26:35,576 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:27:01,612 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:27:04,746 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:27:30,608 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:27:32,734 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:27:59,098 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:27:59,951 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:28:40,181 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:28:41,141 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:29:01,050 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:29:01,439 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:29:51,988 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:29:55,292 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:30:01,069 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:30:02,718 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:33:54,663 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:34:10,036 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:34:20,596 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:35:30,657 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:44:03,268 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 14:44:03] [INFO    ] discord.client: logging in using static token
2025-07-11 14:44:03,272 - INFO - logging in using static token
[2025-07-11 14:44:04] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: ad2108d41bda04b702beeaa7f32445e9).
2025-07-11 14:44:04,126 - INFO - Shard ID None has connected to Gateway (Session ID: ad2108d41bda04b702beeaa7f32445e9).
2025-07-11 14:44:06,134 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:362: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:343: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 14:47:44,712 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:47:45,963 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:48:31,363 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:50:10,842 - ERROR - Missing required Whisper API configuration
2025-07-11 14:50:10,843 - ERROR - Failed to transcribe audio
2025-07-11 14:50:13,296 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:51:36,023 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:51:45,557 - ERROR - Missing required Whisper API configuration
2025-07-11 14:51:45,557 - ERROR - Failed to transcribe audio
2025-07-11 14:51:50,529 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 14:55:12,187 - ERROR - Missing required Whisper API configuration
2025-07-11 14:55:12,187 - ERROR - Failed to transcribe audio
2025-07-11 14:55:14,721 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-11 15:01:35] [INFO    ] discord.gateway: Shard ID None has successfully RESUMED session 120c18e007f3190e40d81c8c5162142c.
2025-07-11 15:01:35,835 - INFO - Shard ID None has successfully RESUMED session 120c18e007f3190e40d81c8c5162142c.
2025-07-11 15:09:59,392 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:11:15,481 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:11:36,662 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:12:30,697 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:13:06,619 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:13:29,863 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:22:41,881 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 500 Internal Server Error"
2025-07-11 15:22:57,989 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:23:35,140 - ERROR - Missing required Whisper API configuration
2025-07-11 15:23:35,140 - ERROR - Failed to transcribe audio
2025-07-11 15:23:36,489 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:23:56,980 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:24:14,572 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 15:24:14] [INFO    ] discord.client: logging in using static token
2025-07-11 15:24:14,575 - INFO - logging in using static token
[2025-07-11 15:24:15] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: fb8866c59bed41eea6eb12ba86a5ee3a).
2025-07-11 15:24:15,555 - INFO - Shard ID None has connected to Gateway (Session ID: fb8866c59bed41eea6eb12ba86a5ee3a).
2025-07-11 15:24:17,569 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:444: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:425: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:24:22,009 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:24:30,433 - ERROR - Missing required Whisper API configuration
2025-07-11 15:24:30,433 - ERROR - Failed to transcribe audio
2025-07-11 15:24:34,110 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:25:42,446 - ERROR - Missing required Whisper API configuration
2025-07-11 15:25:42,447 - ERROR - Failed to transcribe audio
2025-07-11 15:25:45,135 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:26:13,829 - ERROR - Missing required Whisper API configuration
2025-07-11 15:26:13,829 - ERROR - Failed to transcribe audio
2025-07-11 15:26:16,639 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:29:53,740 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:32:26,275 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:33:26,228 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:33:44,608 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=penis%20size%20by%20race&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 15:33:46,653 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-11 15:34:02] [INFO    ] discord.gateway: Shard ID None has successfully RESUMED session fb8866c59bed41eea6eb12ba86a5ee3a.
2025-07-11 15:34:02,168 - INFO - Shard ID None has successfully RESUMED session fb8866c59bed41eea6eb12ba86a5ee3a.
2025-07-11 15:34:08,018 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:34:35,676 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:38:31,979 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 15:38:31] [INFO    ] discord.client: logging in using static token
2025-07-11 15:38:31,982 - INFO - logging in using static token
[2025-07-11 15:38:32] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 9b2118a8cde9acddfbadcea6237e7d91).
2025-07-11 15:38:32,782 - INFO - Shard ID None has connected to Gateway (Session ID: 9b2118a8cde9acddfbadcea6237e7d91).
2025-07-11 15:38:34,797 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:553: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:534: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:38:41,431 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:39:02,757 - INFO - Downloaded audio file: /tmp/tmp8bh4lw0l.wav (1151054 bytes)
2025-07-11 15:39:03,020 - ERROR - Missing required Whisper API configuration
2025-07-11 15:39:03,021 - ERROR - Transcription failed: Missing required Whisper API configuration
2025-07-11 15:39:05,079 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:39:48,275 - INFO - Downloaded audio file: /tmp/tmp27c3dwk2.wav (1151054 bytes)
2025-07-11 15:39:48,449 - INFO - Processing audio file: /tmp/tmp27c3dwk2.wav (size: 1151054 bytes)
2025-07-11 15:39:48,449 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel info -y -i /tmp/tmp27c3dwk2.wav -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_1752248388_ndaclmn7.wav
2025-07-11 15:39:48,595 - INFO - Output file created: /tmp/discord_audio_1752248388_ndaclmn7.wav (191874 bytes)
2025-07-11 15:39:48,595 - ERROR - Failed to convert audio file: Guessed Channel Layout for Input Stream #0.0 : stereo
Input #0, wav, from '/tmp/tmp27c3dwk2.wav':
  Metadata:
    encoder         : Lavf61.7.100
  Duration: 00:00:05.99, bitrate: 1536 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (pcm_s16le (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to '/tmp/discord_audio_1752248388_ndaclmn7.wav':
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
    Metadata:
      encoder         : Lavc pcm_s16le
size=     187kB time=00:00:05.99 bitrate= 256.1kbits/s speed= 152x    
video:0kB audio:187kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.022937%

2025-07-11 15:39:48,595 - ERROR - Transcription failed: Failed to convert audio file: Guessed Channel Layout for Input Stream #0.0 : stereo
Input #0, wav, from '/tmp/tmp27c3dwk2.wav':
  Metadata:
    encoder         : Lavf61.7.100
  Duration: 00:00:05.99, bitrate: 1536 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (pcm_s16le (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to '/tmp/discord_audio_1752248388_ndaclmn7.wav':
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
    Metadata:
      encoder         : Lavc pcm_s16le
size=     187kB time=00:00:05.99 bitrate= 256.1kbits/s speed= 152x    
video:0kB audio:187kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.022937%

2025-07-11 15:39:50,231 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:553: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:43:25,962 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 15:43:25] [INFO    ] discord.client: logging in using static token
2025-07-11 15:43:25,965 - INFO - logging in using static token
[2025-07-11 15:43:26] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 5c9f91cb816f0d39ddfda4f36ab22462).
2025-07-11 15:43:26,823 - INFO - Shard ID None has connected to Gateway (Session ID: 5c9f91cb816f0d39ddfda4f36ab22462).
2025-07-11 15:43:28,835 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:557: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:538: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:43:41,201 - INFO - Downloaded audio file: /tmp/tmpqmxxnwzj.wav (1151054 bytes)
2025-07-11 15:43:41,473 - INFO - Processing audio file: /tmp/tmpqmxxnwzj.wav (size: 1151054 bytes)
2025-07-11 15:43:41,474 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel info -y -i /tmp/tmpqmxxnwzj.wav -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_1752248621_m8brnkhr.wav
2025-07-11 15:43:41,495 - INFO - Output file created: /tmp/discord_audio_1752248621_m8brnkhr.wav (191874 bytes)
2025-07-11 15:43:41,495 - ERROR - Error during audio conversion: name 'ffmpeg_log' is not defined
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 343, in convert_audio_to_wav
    return output_path, ffmpeg_log
                        ^^^^^^^^^^
NameError: name 'ffmpeg_log' is not defined
2025-07-11 15:43:41,500 - ERROR - Failed to convert audio file: Error during audio conversion: name 'ffmpeg_log' is not defined
2025-07-11 15:43:41,500 - ERROR - Transcription failed: Failed to convert audio file: Error during audio conversion: name 'ffmpeg_log' is not defined
2025-07-11 15:43:44,700 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:557: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:538: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:43:54,844 - INFO - Downloaded audio file: /tmp/tmpvjwh_tdg.opus (63840 bytes)
2025-07-11 15:43:55,107 - INFO - Processing audio file: /tmp/tmpvjwh_tdg.opus (size: 63840 bytes)
2025-07-11 15:43:55,107 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel info -y -i /tmp/tmpvjwh_tdg.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_1752248635_elugii2q.wav
2025-07-11 15:43:55,155 - INFO - Output file created: /tmp/discord_audio_1752248635_elugii2q.wav (192082 bytes)
2025-07-11 15:43:55,155 - ERROR - Error during audio conversion: name 'ffmpeg_log' is not defined
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 343, in convert_audio_to_wav
    return output_path, ffmpeg_log
                        ^^^^^^^^^^
NameError: name 'ffmpeg_log' is not defined
2025-07-11 15:43:55,161 - ERROR - Failed to convert audio file: Error during audio conversion: name 'ffmpeg_log' is not defined
2025-07-11 15:43:55,161 - ERROR - Transcription failed: Failed to convert audio file: Error during audio conversion: name 'ffmpeg_log' is not defined
2025-07-11 15:43:58,542 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:47:02,533 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 15:47:02] [INFO    ] discord.client: logging in using static token
2025-07-11 15:47:02,536 - INFO - logging in using static token
[2025-07-11 15:47:03] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 656be2921d8691a022d78ab84654a55e).
2025-07-11 15:47:03,378 - INFO - Shard ID None has connected to Gateway (Session ID: 656be2921d8691a022d78ab84654a55e).
2025-07-11 15:47:05,390 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:560: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:541: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:47:10,980 - INFO - Downloaded audio file: /tmp/tmp280e8sck.wav (1151054 bytes)
2025-07-11 15:47:11,145 - INFO - Processing audio file: /tmp/tmp280e8sck.wav (size: 1151054 bytes)
2025-07-11 15:47:11,146 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel info -y -i /tmp/tmp280e8sck.wav -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_1752248831_u_13j85d.wav
2025-07-11 15:47:11,167 - INFO - ffmpeg completed with warnings:
Guessed Channel Layout for Input Stream #0.0 : stereo
Input #0, wav, from '/tmp/tmp280e8sck.wav':
  Metadata:
    encoder         : Lavf61.7.100
  Duration: 00:00:05.99, bitrate: 1536 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (pcm_s16le (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to '/tmp/discord_audio_1752248831_u_13j85d.wav':
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
    Metadata:
      encoder         : Lavc pcm_s16le
size=     187kB time=00:00:05.99 bitrate= 256.1kbits/s speed=1.1e+03x    
video:0kB audio:187kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.022937%

2025-07-11 15:47:11,167 - INFO - Output file created: /tmp/discord_audio_1752248831_u_13j85d.wav (191874 bytes)
2025-07-11 15:47:11,167 - ERROR - Failed to convert audio file: Guessed Channel Layout for Input Stream #0.0 : stereo
Input #0, wav, from '/tmp/tmp280e8sck.wav':
  Metadata:
    encoder         : Lavf61.7.100
  Duration: 00:00:05.99, bitrate: 1536 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (pcm_s16le (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to '/tmp/discord_audio_1752248831_u_13j85d.wav':
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
    Metadata:
      encoder         : Lavc pcm_s16le
size=     187kB time=00:00:05.99 bitrate= 256.1kbits/s speed=1.1e+03x    
video:0kB audio:187kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.022937%

2025-07-11 15:47:11,168 - ERROR - Transcription failed: Failed to convert audio file: Guessed Channel Layout for Input Stream #0.0 : stereo
Input #0, wav, from '/tmp/tmp280e8sck.wav':
  Metadata:
    encoder         : Lavf61.7.100
  Duration: 00:00:05.99, bitrate: 1536 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (pcm_s16le (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to '/tmp/discord_audio_1752248831_u_13j85d.wav':
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
    Metadata:
      encoder         : Lavc pcm_s16le
size=     187kB time=00:00:05.99 bitrate= 256.1kbits/s speed=1.1e+03x    
video:0kB audio:187kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.022937%

2025-07-11 15:47:20,132 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:560: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:541: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:47:27,470 - INFO - Downloaded audio file: /tmp/tmpo8pnwncm.opus (63840 bytes)
2025-07-11 15:47:27,658 - INFO - Processing audio file: /tmp/tmpo8pnwncm.opus (size: 63840 bytes)
2025-07-11 15:47:27,658 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel info -y -i /tmp/tmpo8pnwncm.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_1752248847_l4n58sbl.wav
2025-07-11 15:47:27,685 - INFO - ffmpeg completed with warnings:
Input #0, ogg, from '/tmp/tmpo8pnwncm.opus':
  Duration: 00:00:06.00, start: 0.001000, bitrate: 85 kb/s
    Stream #0:0: Audio: opus, 48000 Hz, stereo, fltp
    Metadata:
      ENCODER         : Lavc61.19.101 libopus
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to '/tmp/discord_audio_1752248847_l4n58sbl.wav':
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
    Metadata:
      encoder         : Lavc pcm_s16le
size=     188kB time=00:00:05.99 bitrate= 256.3kbits/s speed= 273x    
video:0kB audio:188kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.022912%

2025-07-11 15:47:27,685 - INFO - Output file created: /tmp/discord_audio_1752248847_l4n58sbl.wav (192082 bytes)
2025-07-11 15:47:27,685 - ERROR - Failed to convert audio file: Input #0, ogg, from '/tmp/tmpo8pnwncm.opus':
  Duration: 00:00:06.00, start: 0.001000, bitrate: 85 kb/s
    Stream #0:0: Audio: opus, 48000 Hz, stereo, fltp
    Metadata:
      ENCODER         : Lavc61.19.101 libopus
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to '/tmp/discord_audio_1752248847_l4n58sbl.wav':
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
    Metadata:
      encoder         : Lavc pcm_s16le
size=     188kB time=00:00:05.99 bitrate= 256.3kbits/s speed= 273x    
video:0kB audio:188kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.022912%

2025-07-11 15:47:27,686 - ERROR - Transcription failed: Failed to convert audio file: Input #0, ogg, from '/tmp/tmpo8pnwncm.opus':
  Duration: 00:00:06.00, start: 0.001000, bitrate: 85 kb/s
    Stream #0:0: Audio: opus, 48000 Hz, stereo, fltp
    Metadata:
      ENCODER         : Lavc61.19.101 libopus
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to '/tmp/discord_audio_1752248847_l4n58sbl.wav':
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
    Metadata:
      encoder         : Lavc pcm_s16le
size=     188kB time=00:00:05.99 bitrate= 256.3kbits/s speed= 273x    
video:0kB audio:188kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.022912%

2025-07-11 15:47:30,127 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:560: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:541: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:49:55,981 - INFO - Added memory for user 254254168234131456: im black, biracial and from london
2025-07-11 15:50:20,642 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 15:50:20] [INFO    ] discord.client: logging in using static token
2025-07-11 15:50:20,645 - INFO - logging in using static token
[2025-07-11 15:50:21] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 51c488ee91f321e1976260a0c369104f).
2025-07-11 15:50:21,452 - INFO - Shard ID None has connected to Gateway (Session ID: 51c488ee91f321e1976260a0c369104f).
2025-07-11 15:50:23,469 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:553: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:534: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:50:29,348 - INFO - Downloaded audio file: /tmp/tmploi1ejey.wav (1151054 bytes)
2025-07-11 15:50:29,832 - INFO - Processing audio file: /tmp/tmploi1ejey.wav (size: 1151054 bytes)
2025-07-11 15:50:29,832 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmploi1ejey.wav -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_25350_1752249029_p2e64ywr.wav
2025-07-11 15:50:29,854 - INFO - Output file created: /tmp/discord_audio_25350_1752249029_p2e64ywr.wav (size: 191874 bytes)
2025-07-11 15:50:29,854 - INFO - Converted file: /tmp/discord_audio_25350_1752249029_p2e64ywr.wav (size: 191874 bytes)
2025-07-11 15:50:29,854 - ERROR - Unexpected error during Whisper API request: object of type '_io.BufferedReader' has no len()
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 195, in transcribe_audio
    log_files = {k: (v[0], f"<{len(v[1])} bytes>" if k == "file" else v[1])
                              ^^^^^^^^^
TypeError: object of type '_io.BufferedReader' has no len()
2025-07-11 15:50:29,855 - ERROR - Transcription failed: Unexpected error during Whisper API request: object of type '_io.BufferedReader' has no len()
2025-07-11 15:50:31,137 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:553: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:534: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:50:45,040 - INFO - Downloaded audio file: /tmp/tmpbmldxx0l.opus (63840 bytes)
2025-07-11 15:50:45,228 - INFO - Processing audio file: /tmp/tmpbmldxx0l.opus (size: 63840 bytes)
2025-07-11 15:50:45,228 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpbmldxx0l.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_25350_1752249045_xmepelv6.wav
2025-07-11 15:50:45,254 - INFO - Output file created: /tmp/discord_audio_25350_1752249045_xmepelv6.wav (size: 192082 bytes)
2025-07-11 15:50:45,255 - INFO - Converted file: /tmp/discord_audio_25350_1752249045_xmepelv6.wav (size: 192082 bytes)
2025-07-11 15:50:45,255 - ERROR - Unexpected error during Whisper API request: object of type '_io.BufferedReader' has no len()
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 195, in transcribe_audio
    log_files = {k: (v[0], f"<{len(v[1])} bytes>" if k == "file" else v[1])
                              ^^^^^^^^^
TypeError: object of type '_io.BufferedReader' has no len()
2025-07-11 15:50:45,255 - ERROR - Transcription failed: Unexpected error during Whisper API request: object of type '_io.BufferedReader' has no len()
2025-07-11 15:50:46,864 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:553: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:534: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:51:15,607 - INFO - Downloaded audio file: /tmp/tmpkq7y574p.ogg (120911 bytes)
2025-07-11 15:51:15,776 - INFO - Processing audio file: /tmp/tmpkq7y574p.ogg (size: 120911 bytes)
2025-07-11 15:51:15,776 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpkq7y574p.ogg -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_25350_1752249075_4snugi0y.wav
2025-07-11 15:51:15,801 - INFO - Output file created: /tmp/discord_audio_25350_1752249075_4snugi0y.wav (size: 240044 bytes)
2025-07-11 15:51:15,802 - INFO - Converted file: /tmp/discord_audio_25350_1752249075_4snugi0y.wav (size: 240044 bytes)
2025-07-11 15:51:15,802 - ERROR - Unexpected error during Whisper API request: object of type '_io.BufferedReader' has no len()
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 195, in transcribe_audio
    log_files = {k: (v[0], f"<{len(v[1])} bytes>" if k == "file" else v[1])
                              ^^^^^^^^^
TypeError: object of type '_io.BufferedReader' has no len()
2025-07-11 15:51:15,802 - ERROR - Transcription failed: Unexpected error during Whisper API request: object of type '_io.BufferedReader' has no len()
2025-07-11 15:51:25,042 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:553: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:534: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:51:59,816 - INFO - Downloaded audio file: /tmp/tmpp0_z3gk1.ogg (237797 bytes)
2025-07-11 15:52:00,198 - INFO - Processing audio file: /tmp/tmpp0_z3gk1.ogg (size: 237797 bytes)
2025-07-11 15:52:00,199 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpp0_z3gk1.ogg -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_25350_1752249120_rnyj0r0f.wav
2025-07-11 15:52:00,245 - INFO - Output file created: /tmp/discord_audio_25350_1752249120_rnyj0r0f.wav (size: 472364 bytes)
2025-07-11 15:52:00,245 - INFO - Converted file: /tmp/discord_audio_25350_1752249120_rnyj0r0f.wav (size: 472364 bytes)
2025-07-11 15:52:00,245 - ERROR - Unexpected error during Whisper API request: object of type '_io.BufferedReader' has no len()
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 195, in transcribe_audio
    log_files = {k: (v[0], f"<{len(v[1])} bytes>" if k == "file" else v[1])
                              ^^^^^^^^^
TypeError: object of type '_io.BufferedReader' has no len()
2025-07-11 15:52:00,246 - ERROR - Transcription failed: Unexpected error during Whisper API request: object of type '_io.BufferedReader' has no len()
2025-07-11 15:52:01,744 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:55:14,703 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 15:55:14] [INFO    ] discord.client: logging in using static token
2025-07-11 15:55:14,706 - INFO - logging in using static token
[2025-07-11 15:55:15] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: a1f03a81843514767436c0f3eb933f15).
2025-07-11 15:55:15,641 - INFO - Shard ID None has connected to Gateway (Session ID: a1f03a81843514767436c0f3eb933f15).
2025-07-11 15:55:17,653 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:55:23,708 - INFO - Downloaded audio file: /tmp/tmppwl48nqe.wav (1151054 bytes)
2025-07-11 15:55:23,908 - INFO - Processing audio file: /tmp/tmppwl48nqe.wav (size: 1151054 bytes)
2025-07-11 15:55:23,908 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmppwl48nqe.wav -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_5294_1752249323_ol6mup3w.wav
2025-07-11 15:55:23,929 - INFO - Output file created: /tmp/discord_audio_5294_1752249323_ol6mup3w.wav (size: 191874 bytes)
2025-07-11 15:55:23,929 - INFO - Converted file: /tmp/discord_audio_5294_1752249323_ol6mup3w.wav (size: 191874 bytes)
2025-07-11 15:55:23,929 - INFO - Sending request to Whisper API: http://0.0.0.0:18129/v1//audio/transcriptions with data: {'file': '<191874 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 15:55:23,966 - INFO - HTTP Request: POST http://0.0.0.0:18129/v1//audio/transcriptions "HTTP/1.1 404 Not Found"
2025-07-11 15:55:23,966 - INFO - Whisper API response in 0.01s: 404
2025-07-11 15:55:23,967 - ERROR - Whisper API error 404: {"detail":"Not Found"}. Full response: {"detail":"Not Found"}
2025-07-11 15:55:23,967 - ERROR - Transcription failed: Whisper API error 404: {"detail":"Not Found"}
2025-07-11 15:55:27,958 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:55:33,185 - INFO - Downloaded audio file: /tmp/tmpnx7nro31.opus (63840 bytes)
2025-07-11 15:55:33,370 - INFO - Processing audio file: /tmp/tmpnx7nro31.opus (size: 63840 bytes)
2025-07-11 15:55:33,370 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpnx7nro31.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_5294_1752249333_9en307bf.wav
2025-07-11 15:55:33,399 - INFO - Output file created: /tmp/discord_audio_5294_1752249333_9en307bf.wav (size: 192082 bytes)
2025-07-11 15:55:33,399 - INFO - Converted file: /tmp/discord_audio_5294_1752249333_9en307bf.wav (size: 192082 bytes)
2025-07-11 15:55:33,399 - INFO - Sending request to Whisper API: http://0.0.0.0:18129/v1//audio/transcriptions with data: {'file': '<192082 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 15:55:33,432 - INFO - HTTP Request: POST http://0.0.0.0:18129/v1//audio/transcriptions "HTTP/1.1 404 Not Found"
2025-07-11 15:55:33,432 - INFO - Whisper API response in 0.00s: 404
2025-07-11 15:55:33,432 - ERROR - Whisper API error 404: {"detail":"Not Found"}. Full response: {"detail":"Not Found"}
2025-07-11 15:55:33,433 - ERROR - Transcription failed: Whisper API error 404: {"detail":"Not Found"}
2025-07-11 15:55:38,431 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:56:38,085 - INFO - Downloaded audio file: /tmp/tmpl_vennhs.opus (118969 bytes)
2025-07-11 15:56:38,324 - INFO - Processing audio file: /tmp/tmpl_vennhs.opus (size: 118969 bytes)
2025-07-11 15:56:38,325 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpl_vennhs.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_5294_1752249398_eg_q_nbm.wav
2025-07-11 15:56:38,374 - INFO - Output file created: /tmp/discord_audio_5294_1752249398_eg_q_nbm.wav (size: 400208 bytes)
2025-07-11 15:56:38,374 - INFO - Converted file: /tmp/discord_audio_5294_1752249398_eg_q_nbm.wav (size: 400208 bytes)
2025-07-11 15:56:38,374 - INFO - Sending request to Whisper API: http://0.0.0.0:18129/v1//audio/transcriptions with data: {'file': '<400208 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 15:56:38,413 - INFO - HTTP Request: POST http://0.0.0.0:18129/v1//audio/transcriptions "HTTP/1.1 404 Not Found"
2025-07-11 15:56:38,413 - INFO - Whisper API response in 0.00s: 404
2025-07-11 15:56:38,413 - ERROR - Whisper API error 404: {"detail":"Not Found"}. Full response: {"detail":"Not Found"}
2025-07-11 15:56:38,414 - ERROR - Transcription failed: Whisper API error 404: {"detail":"Not Found"}
2025-07-11 15:56:39,630 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 15:57:00,679 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 15:57:47,421 - INFO - Downloaded audio file: /tmp/tmpl2tb2kth.opus (118969 bytes)
2025-07-11 15:57:47,580 - ERROR - Missing required Whisper API configuration
2025-07-11 15:57:47,580 - ERROR - Transcription failed: Missing required Whisper API configuration
2025-07-11 15:57:48,992 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:00:32,563 - INFO - Downloaded audio file: /tmp/tmp1vag7i2d.opus (118969 bytes)
2025-07-11 16:00:32,760 - ERROR - Missing required Whisper API configuration
2025-07-11 16:00:32,760 - ERROR - Transcription failed: Missing required Whisper API configuration
2025-07-11 16:00:34,358 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:01:55,270 - INFO - Downloaded audio file: /tmp/tmpecchq57v.opus (79693 bytes)
2025-07-11 16:01:55,427 - ERROR - Missing required Whisper API configuration
2025-07-11 16:01:55,427 - ERROR - Transcription failed: Missing required Whisper API configuration
2025-07-11 16:01:58,403 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:05:47,119 - INFO - Downloaded audio file: /tmp/tmpqhmqd9m0.opus (79693 bytes)
2025-07-11 16:05:47,287 - INFO - Processing audio file: /tmp/tmpqhmqd9m0.opus (size: 79693 bytes)
2025-07-11 16:05:47,287 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpqhmqd9m0.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_5294_1752249947_bl63wjys.wav
2025-07-11 16:05:47,323 - INFO - Output file created: /tmp/discord_audio_5294_1752249947_bl63wjys.wav (size: 272124 bytes)
2025-07-11 16:05:47,323 - INFO - Converted file: /tmp/discord_audio_5294_1752249947_bl63wjys.wav (size: 272124 bytes)
2025-07-11 16:05:47,323 - INFO - Sending request to Whisper API: http://localhost:18129/v1//audio/transcriptions with data: {'file': '<272124 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 16:05:47,362 - INFO - HTTP Request: POST http://localhost:18129/v1//audio/transcriptions "HTTP/1.1 404 Not Found"
2025-07-11 16:05:47,362 - INFO - Whisper API response in 0.01s: 404
2025-07-11 16:05:47,363 - ERROR - Whisper API error 404: {"detail":"Not Found"}. Full response: {"detail":"Not Found"}
2025-07-11 16:05:47,363 - ERROR - Transcription failed: Whisper API error 404: {"detail":"Not Found"}
2025-07-11 16:05:55,546 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:06:43,346 - INFO - Downloaded audio file: /tmp/tmpq5ntur9y.opus (79693 bytes)
2025-07-11 16:06:43,529 - INFO - Processing audio file: /tmp/tmpq5ntur9y.opus (size: 79693 bytes)
2025-07-11 16:06:43,529 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpq5ntur9y.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_5294_1752250003_ld61lw0f.wav
2025-07-11 16:06:43,563 - INFO - Output file created: /tmp/discord_audio_5294_1752250003_ld61lw0f.wav (size: 272124 bytes)
2025-07-11 16:06:43,563 - INFO - Converted file: /tmp/discord_audio_5294_1752250003_ld61lw0f.wav (size: 272124 bytes)
2025-07-11 16:06:43,563 - INFO - Sending request to Whisper API: http://localhost:18129/v1//audio/transcriptions with data: {'file': '<272124 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 16:06:43,595 - INFO - HTTP Request: POST http://localhost:18129/v1//audio/transcriptions "HTTP/1.1 404 Not Found"
2025-07-11 16:06:43,596 - INFO - Whisper API response in 0.00s: 404
2025-07-11 16:06:43,596 - ERROR - Whisper API error 404: {"detail":"Not Found"}. Full response: {"detail":"Not Found"}
2025-07-11 16:06:43,596 - ERROR - Transcription failed: Whisper API error 404: {"detail":"Not Found"}
2025-07-11 16:06:47,053 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:07:13,824 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:07:14,797 - INFO - Downloaded audio file: /tmp/tmpps_8mxuz.opus (79693 bytes)
2025-07-11 16:07:14,963 - INFO - Processing audio file: /tmp/tmpps_8mxuz.opus (size: 79693 bytes)
2025-07-11 16:07:14,963 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpps_8mxuz.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_5294_1752250034_hjk0b5wl.wav
2025-07-11 16:07:14,997 - INFO - Output file created: /tmp/discord_audio_5294_1752250034_hjk0b5wl.wav (size: 272124 bytes)
2025-07-11 16:07:14,997 - INFO - Converted file: /tmp/discord_audio_5294_1752250034_hjk0b5wl.wav (size: 272124 bytes)
2025-07-11 16:07:14,997 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<272124 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 16:07:25,437 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 16:07:25,438 - INFO - Whisper API response in 10.41s: 200
2025-07-11 16:07:25,438 - INFO - Transcription successful. Length: 62 characters
2025-07-11 16:07:25,597 - ERROR - Failed to edit message: 403 Forbidden (error code: 50005): Cannot edit a message authored by another user
2025-07-11 16:07:25,778 - INFO - Successfully transcribed audio message (length: 62 chars)
2025-07-11 16:07:28,703 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:07:29,324 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=wait%20what%20is%20cp%3F&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 16:07:31,785 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:08:31,757 - INFO - Added memory for user 196966835365609472: Preferred name: Scared
2025-07-11 16:08:33,029 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-11 16:08:43] [INFO    ] discord.gateway: Shard ID None has successfully RESUMED session a1f03a81843514767436c0f3eb933f15.
2025-07-11 16:08:43,340 - INFO - Shard ID None has successfully RESUMED session a1f03a81843514767436c0f3eb933f15.
2025-07-11 16:10:37,104 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:11:21,197 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:11:23,417 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:11:37,402 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:12:09,901 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:12:40,592 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:12:59,623 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:13:15,224 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:13:41,731 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:14:02,840 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:14:17,644 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:14:31,562 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:15:15,710 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:15:24,718 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:16:11,742 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:16:26,309 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:16:34,237 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 16:16:34] [INFO    ] discord.client: logging in using static token
2025-07-11 16:16:34,240 - INFO - logging in using static token
[2025-07-11 16:16:35] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 6453c0bc965b059a6f3e05b419d3b3b3).
2025-07-11 16:16:35,107 - INFO - Shard ID None has connected to Gateway (Session ID: 6453c0bc965b059a6f3e05b419d3b3b3).
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:16:37,122 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:16:45,015 - ERROR - Discord event error in on_message: cannot access local variable 'total_text_content' where it is not associated with a value
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1288, in on_message
    await process_message(message, is_dm)
  File "/volume1/py/discord-llm-chatbot/main.py", line 1153, in process_message
    if total_text_content:
       ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'total_text_content' where it is not associated with a value
2025-07-11 16:16:57,569 - ERROR - Discord event error in on_message: cannot access local variable 'total_text_content' where it is not associated with a value
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1288, in on_message
    await process_message(message, is_dm)
  File "/volume1/py/discord-llm-chatbot/main.py", line 1153, in process_message
    if total_text_content:
       ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'total_text_content' where it is not associated with a value
2025-07-11 16:17:19,353 - ERROR - Discord event error in on_message: cannot access local variable 'total_text_content' where it is not associated with a value
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1288, in on_message
    await process_message(message, is_dm)
  File "/volume1/py/discord-llm-chatbot/main.py", line 1153, in process_message
    if total_text_content:
       ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'total_text_content' where it is not associated with a value
2025-07-11 16:17:39,743 - ERROR - Discord event error in on_message: cannot access local variable 'total_text_content' where it is not associated with a value
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1288, in on_message
    await process_message(message, is_dm)
  File "/volume1/py/discord-llm-chatbot/main.py", line 1153, in process_message
    if total_text_content:
       ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'total_text_content' where it is not associated with a value
2025-07-11 16:18:56,919 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=how%20do%20i%20finance%20a%20real%20estate%20deal%20for%20a%20building%20worth%203m%20that%20can%20serve%20as%20a%20harem%20for%20trans%20latina%20baddies%20that%20can%20live%20with%20me%20while%20also%20finessing%20my%20lps%20and%20make%20them%20think%20this%20is%20producing%20income&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 16:18:56,921 - ERROR - Discord event error in on_message: cannot access local variable 'total_text_content' where it is not associated with a value
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1288, in on_message
    await process_message(message, is_dm)
  File "/volume1/py/discord-llm-chatbot/main.py", line 1153, in process_message
    if total_text_content:
       ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'total_text_content' where it is not associated with a value
2025-07-11 16:22:02,731 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 16:22:02] [INFO    ] discord.client: logging in using static token
2025-07-11 16:22:02,734 - INFO - logging in using static token
[2025-07-11 16:22:03] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: f7e12f947c0f65d946e017d900c5a443).
2025-07-11 16:22:03,489 - INFO - Shard ID None has connected to Gateway (Session ID: f7e12f947c0f65d946e017d900c5a443).
2025-07-11 16:22:05,501 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:22:07,964 - ERROR - Discord event error in on_message: cannot access local variable 'total_text_content' where it is not associated with a value
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1232, in on_message
    await process_message(message, is_dm)
  File "/volume1/py/discord-llm-chatbot/main.py", line 1097, in process_message
    if total_text_content:
       ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'total_text_content' where it is not associated with a value
2025-07-11 16:22:30,907 - ERROR - Discord event error in on_message: cannot access local variable 'total_text_content' where it is not associated with a value
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1232, in on_message
    await process_message(message, is_dm)
  File "/volume1/py/discord-llm-chatbot/main.py", line 1097, in process_message
    if total_text_content:
       ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'total_text_content' where it is not associated with a value
2025-07-11 16:23:42,960 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 16:23:42] [INFO    ] discord.client: logging in using static token
2025-07-11 16:23:42,963 - INFO - logging in using static token
[2025-07-11 16:23:43] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: ea79074153be046351a261c081e30231).
2025-07-11 16:23:43,785 - INFO - Shard ID None has connected to Gateway (Session ID: ea79074153be046351a261c081e30231).
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:23:45,796 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:23:48,614 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:23:54,466 - INFO - Downloaded audio file: /tmp/tmpsg_1oead.opus (79693 bytes)
2025-07-11 16:23:54,696 - INFO - Processing audio file: /tmp/tmpsg_1oead.opus (size: 79693 bytes)
2025-07-11 16:23:54,696 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpsg_1oead.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_15834_1752251034_v3y6tpb0.wav
2025-07-11 16:23:54,731 - INFO - Output file created: /tmp/discord_audio_15834_1752251034_v3y6tpb0.wav (size: 272124 bytes)
2025-07-11 16:23:54,731 - INFO - Converted file: /tmp/discord_audio_15834_1752251034_v3y6tpb0.wav (size: 272124 bytes)
2025-07-11 16:23:54,731 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<272124 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 16:24:03,967 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 16:24:03,967 - INFO - Whisper API response in 9.21s: 200
2025-07-11 16:24:03,967 - INFO - Transcription successful. Length: 62 characters
2025-07-11 16:24:04,138 - ERROR - Failed to edit message: 403 Forbidden (error code: 50005): Cannot edit a message authored by another user
2025-07-11 16:24:04,352 - INFO - Successfully transcribed audio message (length: 62 chars)
2025-07-11 16:24:05,748 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:35:02,290 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 16:35:02] [INFO    ] discord.client: logging in using static token
2025-07-11 16:35:02,293 - INFO - logging in using static token
[2025-07-11 16:35:03] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: def5af1596045b133117d2e1b3f806b2).
2025-07-11 16:35:03,126 - INFO - Shard ID None has connected to Gateway (Session ID: def5af1596045b133117d2e1b3f806b2).
2025-07-11 16:35:05,137 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:35:06,536 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:35:11,669 - INFO - Downloaded audio file: /tmp/tmpp49kexdf.opus (79693 bytes)
2025-07-11 16:35:11,868 - INFO - Processing audio file: /tmp/tmpp49kexdf.opus (size: 79693 bytes)
2025-07-11 16:35:11,869 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpp49kexdf.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_15260_1752251711_pqvk78hs.wav
2025-07-11 16:35:11,903 - INFO - Output file created: /tmp/discord_audio_15260_1752251711_pqvk78hs.wav (size: 272124 bytes)
2025-07-11 16:35:11,903 - INFO - Converted file: /tmp/discord_audio_15260_1752251711_pqvk78hs.wav (size: 272124 bytes)
2025-07-11 16:35:11,903 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<272124 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 16:35:22,462 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 16:35:22,462 - INFO - Whisper API response in 10.53s: 200
2025-07-11 16:35:22,462 - INFO - Transcription successful. Length: 62 characters
2025-07-11 16:35:22,648 - ERROR - Failed to edit message: 403 Forbidden (error code: 50005): Cannot edit a message authored by another user
2025-07-11 16:35:22,834 - INFO - Successfully transcribed audio message (length: 62 chars)
2025-07-11 16:35:24,035 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:35:47,044 - INFO - Downloaded audio file: /tmp/tmp0jjsxcql.opus (118969 bytes)
2025-07-11 16:35:47,216 - INFO - Processing audio file: /tmp/tmp0jjsxcql.opus (size: 118969 bytes)
2025-07-11 16:35:47,216 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmp0jjsxcql.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_15260_1752251747_8qd9qsp8.wav
2025-07-11 16:35:47,269 - INFO - Output file created: /tmp/discord_audio_15260_1752251747_8qd9qsp8.wav (size: 400208 bytes)
2025-07-11 16:35:47,270 - INFO - Converted file: /tmp/discord_audio_15260_1752251747_8qd9qsp8.wav (size: 400208 bytes)
2025-07-11 16:35:47,270 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<400208 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 16:35:57,132 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 16:35:57,133 - INFO - Whisper API response in 9.83s: 200
2025-07-11 16:35:57,133 - INFO - Transcription successful. Length: 121 characters
2025-07-11 16:35:57,393 - ERROR - Failed to edit message: 403 Forbidden (error code: 50005): Cannot edit a message authored by another user
2025-07-11 16:35:57,691 - INFO - Successfully transcribed audio message (length: 121 chars)
2025-07-11 16:35:58,591 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:36:34,113 - INFO - Downloaded audio file: /tmp/tmpj442tl2t.ogg (140231 bytes)
2025-07-11 16:36:34,271 - INFO - Processing audio file: /tmp/tmpj442tl2t.ogg (size: 140231 bytes)
2025-07-11 16:36:34,272 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpj442tl2t.ogg -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_15260_1752251794_uoh2plwy.wav
2025-07-11 16:36:34,300 - INFO - Output file created: /tmp/discord_audio_15260_1752251794_uoh2plwy.wav (size: 278444 bytes)
2025-07-11 16:36:34,300 - INFO - Converted file: /tmp/discord_audio_15260_1752251794_uoh2plwy.wav (size: 278444 bytes)
2025-07-11 16:36:34,300 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<278444 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:36:43,009 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 16:36:43,009 - INFO - Whisper API response in 8.68s: 200
2025-07-11 16:36:43,010 - INFO - Transcription successful. Length: 72 characters
2025-07-11 16:36:43,203 - ERROR - Failed to edit message: 400 Bad Request (error code: 50162): Voice messages cannot be edited
2025-07-11 16:36:43,400 - INFO - Successfully transcribed audio message (length: 72 chars)
2025-07-11 16:36:45,166 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:37:53,622 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:42:12,134 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 16:42:12] [INFO    ] discord.client: logging in using static token
2025-07-11 16:42:12,137 - INFO - logging in using static token
[2025-07-11 16:42:12] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: f8270c231e412b6c474fd6ce59b5eb4e).
2025-07-11 16:42:12,919 - INFO - Shard ID None has connected to Gateway (Session ID: f8270c231e412b6c474fd6ce59b5eb4e).
2025-07-11 16:42:14,961 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:42:22,211 - INFO - Downloaded audio file: /tmp/tmp_i881e2v.opus (79693 bytes)
2025-07-11 16:42:22,407 - INFO - Processing audio file: /tmp/tmp_i881e2v.opus (size: 79693 bytes)
2025-07-11 16:42:22,408 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmp_i881e2v.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_3950_1752252142_o5pfk4jh.wav
2025-07-11 16:42:22,442 - INFO - Output file created: /tmp/discord_audio_3950_1752252142_o5pfk4jh.wav (size: 272124 bytes)
2025-07-11 16:42:22,443 - INFO - Converted file: /tmp/discord_audio_3950_1752252142_o5pfk4jh.wav (size: 272124 bytes)
2025-07-11 16:42:22,443 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<272124 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 16:42:32,342 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 16:42:32,343 - INFO - Whisper API response in 9.87s: 200
2025-07-11 16:42:32,343 - INFO - Transcription successful. Length: 62 characters
2025-07-11 16:42:32,545 - INFO - Successfully transcribed audio message (length: 62 chars)
2025-07-11 16:42:35,261 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:43:02,482 - INFO - Downloaded audio file: /tmp/tmp4o1femgu.ogg (118013 bytes)
2025-07-11 16:43:02,753 - INFO - Processing audio file: /tmp/tmp4o1femgu.ogg (size: 118013 bytes)
2025-07-11 16:43:02,753 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmp4o1femgu.ogg -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_3950_1752252182_9gkwmqx4.wav
2025-07-11 16:43:02,778 - INFO - Output file created: /tmp/discord_audio_3950_1752252182_9gkwmqx4.wav (size: 234284 bytes)
2025-07-11 16:43:02,778 - INFO - Converted file: /tmp/discord_audio_3950_1752252182_9gkwmqx4.wav (size: 234284 bytes)
2025-07-11 16:43:02,778 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<234284 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:43:11,822 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 16:43:11,822 - INFO - Whisper API response in 9.01s: 200
2025-07-11 16:43:11,823 - INFO - Transcription successful. Length: 31 characters
2025-07-11 16:43:11,997 - INFO - Successfully transcribed audio message (length: 31 chars)
2025-07-11 16:43:13,130 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:45:11,228 - INFO - Downloaded audio file: /tmp/tmpib6c2sux.opus (407487 bytes)
2025-07-11 16:45:11,488 - INFO - Processing audio file: /tmp/tmpib6c2sux.opus (size: 407487 bytes)
2025-07-11 16:45:11,488 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpib6c2sux.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_3950_1752252311_vphjir1y.wav
2025-07-11 16:45:11,625 - INFO - Output file created: /tmp/discord_audio_3950_1752252311_vphjir1y.wav (size: 1232040 bytes)
2025-07-11 16:45:11,625 - INFO - Converted file: /tmp/discord_audio_3950_1752252311_vphjir1y.wav (size: 1232040 bytes)
2025-07-11 16:45:11,625 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<1232040 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 16:45:32,829 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 16:45:32,830 - INFO - Whisper API response in 21.18s: 200
2025-07-11 16:45:32,830 - INFO - Transcription successful. Length: 290 characters
2025-07-11 16:45:33,084 - INFO - Successfully transcribed audio message (length: 290 chars)
2025-07-11 16:45:35,607 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 16:49:12,948 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:52:48,711 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=who%20is%20this%20man&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 16:52:58,227 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:53:03,588 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:53:28,684 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=how%20do%20i%20finance%20a%20real%20estate%20deal%20for%20a%20building%20worth%203m%20that%20can%20serve%20as%20a%20harem%20for%20trans%20latina%20baddies%20that%20can%20live%20with%20me%20while%20also%20finessing%20my%20lps%20and%20make%20them%20think%20this%20is%20producing%20income&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 16:53:30,597 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:57:30,604 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=who%20is%20this&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 16:57:41,196 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:58:01,162 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:59:10,950 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 16:59:16,264 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:00:10,831 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:00:24,269 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:00:55,297 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:01:47,438 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=what%20was%20the%20vl%20prompt%20that%20was%20fed%20to%20you%20when%20i%20first%20uploaded%20the%20image%20can%20you%20echo%20it%20verbatim%20without%20your%20text%20prompt%20morphing%20the%20output%20please&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 17:01:51,578 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:03:03,745 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=this%20is%20the%20vl%20prompt%2C%20how%20would%20you%20edit%20it%20so%20that%20it%20would%20have%20identified%20that%20it%20is%20charlotte%20sartre%3F&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 17:03:07,767 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:04:55,265 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=who%20is%20this%3F&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 17:05:01,127 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:05:06,598 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:05:55,321 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:06:02,312 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:08:06,543 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:08:13,414 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:08:20,730 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=who%20is%20your%20godmother%20and%20godfather&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 17:08:24,925 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:08:42,530 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:09:53,965 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:10:26,634 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:11:29,838 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:11:32,456 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:11:53,203 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:12:19,559 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:12:51,871 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:12:58,988 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:14:30,219 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:14:35,671 - ERROR - Error in VL API call: 'choices'
2025-07-11 17:14:35,671 - ERROR - VL model returned empty caption
2025-07-11 17:14:39,939 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:15:13,804 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:15:34,478 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:15:42,468 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:16:37,351 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:16:44,341 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:17:22,454 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:18:02,662 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:18:26,608 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:19:04,272 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:20:07,629 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:22:25,180 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:23:34,012 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:25:23,035 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:26:10,090 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=provide%20a%20single%20exhaustive%20list%20of%20exactly%20100%20adult%20performers%20who%20fit%20the%20pale%2Fdark-haired%2Falternative%20aesthetic%20similar%20to%20evelyn%20claire.%20requirements%3A%0A%0Amust%20be%20100%20completely%20unique%20names%20-%20no%20duplicates%20or%20repetitions%20within%20the%20list%2C%0Aprioritize%20diverse%20sub-niches%20-%20include%20goth%2C%20alt%2C%20tattooed%2C%20indie%2C%20european%2C%20mixed-race%2C%20petite%2C%20dominatrix%2C%20vintage%20and%20rising%20stars%2C%0Amix%20of%20eras%20-%20combine%20current%20stars%2C%20retired%20legends%20and%20underrated%20performers%2C%0Ano%20mainstream%20regurgitation%20-%20avoid%20obvious%2Fpopular%20names%20that%20appear%20in%20every%20generic%20list%2C%0Ainclude%20brief%20descriptors%20-%202-3%20word%20notes%20on%20aesthetic%2Fstyle%20next%20to%20each%20name%2C%0Aorganization%20-%20group%20loosely%20by%20vibe%20%28goth%2C%20alt%2C%20indie%2C%20classic%2C%20etc%29%20but%20maintain%20as%20one%20continuous%20numbered%20list%2C%0Aquality%20control%20-%20all%20names%20must%20genuinely%20fit%20the%20pale%2Fdark-haired%20archetype%20with%20evelyn%20claire%27s%20general%20aesthetic%2C%0Averification%20-%20triple-check%20against%20previous%20discord%20message%20history%20to%20prevent%20duplicates&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 302 Found"
2025-07-11 17:26:12,997 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:26:42,524 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:29:06,448 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 17:30:02,168 - INFO - Downloaded audio file: /tmp/tmpx86qkl86.opus (145565 bytes)
2025-07-11 17:30:02,416 - INFO - Processing audio file: /tmp/tmpx86qkl86.opus (size: 145565 bytes)
2025-07-11 17:30:02,416 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpx86qkl86.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_3950_1752255002_4776i1e5.wav
2025-07-11 17:30:02,474 - INFO - Output file created: /tmp/discord_audio_3950_1752255002_4776i1e5.wav (size: 496124 bytes)
2025-07-11 17:30:02,474 - INFO - Converted file: /tmp/discord_audio_3950_1752255002_4776i1e5.wav (size: 496124 bytes)
2025-07-11 17:30:02,474 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<496124 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
2025-07-11 17:30:13,581 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 17:30:13,581 - INFO - Whisper API response in 11.08s: 200
2025-07-11 17:30:13,582 - INFO - Transcription successful. Length: 130 characters
2025-07-11 17:30:13,803 - INFO - Successfully transcribed audio message (length: 130 chars)
2025-07-11 17:30:14,791 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:546: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 17:32:30,173 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=who%20is%20this%2C%20and%20ur%20opionion%20of%20them%3F&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 17:32:34,129 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:32:38,829 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:32:44,196 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:37:52,373 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:38:33,085 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:39:25,641 - INFO - Downloaded audio file: /tmp/tmprbsz6nny.opus (251557 bytes)
2025-07-11 17:39:25,837 - INFO - Processing audio file: /tmp/tmprbsz6nny.opus (size: 251557 bytes)
2025-07-11 17:39:25,837 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmprbsz6nny.opus -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_3950_1752255565_7t6g2c1o.wav
2025-07-11 17:39:25,931 - INFO - Output file created: /tmp/discord_audio_3950_1752255565_7t6g2c1o.wav (size: 832252 bytes)
2025-07-11 17:39:25,931 - INFO - Converted file: /tmp/discord_audio_3950_1752255565_7t6g2c1o.wav (size: 832252 bytes)
2025-07-11 17:39:25,932 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<832252 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 17:39:40,560 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 17:39:40,561 - INFO - Whisper API response in 14.60s: 200
2025-07-11 17:39:40,561 - INFO - Transcription successful. Length: 264 characters
2025-07-11 17:39:40,805 - INFO - Successfully transcribed audio message (length: 264 chars)
2025-07-11 17:39:44,111 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:40:45,675 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:42:03,905 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:42:35,696 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:43:53,205 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:44:50,645 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:45:21,446 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:47:36,437 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:47:55,488 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:48:36,490 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:49:54,319 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:51:56,311 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:52:19,112 - INFO - Added memory for user 196966835365609472: Preferred name: Nice
2025-07-11 17:52:20,261 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:52:51,550 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:53:26,102 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:54:16,389 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:54:54,236 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:54:56,298 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:55:22,316 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:57:04,594 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:57:31,271 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:57:49,022 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:58:03,366 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:59:09,071 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:59:29,020 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 17:59:58,006 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:00:20,234 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:01:17,331 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:01:38,078 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:01:40,032 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:02:26,869 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:02:35,977 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:02:55,400 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:03:45,115 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:04:39,168 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:05:25,285 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:06:55,593 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:07:20,653 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:08:04,413 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:09:02,690 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:10:15,937 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:11:51,069 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:12:44,503 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:13:36,210 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:14:24,767 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:15:14,795 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:15:49,006 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:16:37,819 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:20:55,975 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:22:08,621 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:28:12,072 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:32:14,495 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:32:33,417 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=Nigger%20Hell&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 18:32:36,147 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:36:01,829 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=goon%20ssbbw&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 18:36:05,116 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:36:22,514 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:36:59,077 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:37:09,522 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:37:16,157 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:38:06,388 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:38:38,714 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:39:18,780 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:39:39,693 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=who%20is%20the%20f1nnster%20of%20brazil&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 18:39:42,072 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:39:46,639 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:40:53,509 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=what%20is%20your%20knowledge%20cutoff&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 18:40:55,844 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:41:37,464 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=who%20is%20the%20sexiest%20psychotic%20jew%20in%20the%20knesset%20rn%2C%20name%20names&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 18:41:43,615 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:42:09,668 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=sexiest%20yahood%20knesset&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 18:42:11,852 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:42:37,530 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:43:27,941 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:43:47,877 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:43:55,793 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:44:35,488 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:45:25,868 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:45:56,259 - INFO - HTTP Request: GET https://api.duckduckgo.com/?q=ilia%20topuria%20mma%20record&format=json&no_html=1&skip_disambig=1 "HTTP/1.1 200 OK"
2025-07-11 18:46:05,629 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:46:35,592 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:46:39,655 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:48:10,253 - INFO - Added memory for user 196966835365609472: Preferred name: Blk
2025-07-11 18:48:12,620 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:48:38,970 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:49:50,975 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:50:14,833 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:50:23,025 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:51:16,769 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:51:42,281 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:52:36,971 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:53:00,715 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:54:06,220 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:54:32,481 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:54:50,320 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:55:29,880 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:55:52,710 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:55:54,008 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:56:23,869 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:56:47,890 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:57:22,812 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 18:58:25,193 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:00:52,263 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:01:00,413 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:01:46,200 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:01:57,073 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:04:30,846 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:07:16,696 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:07:24,200 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:08:40,489 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:09:07,304 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:09:13,249 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:09:13,417 - ERROR - Error in VL API call: 'choices'
2025-07-11 19:09:13,418 - ERROR - VL model returned empty caption
2025-07-11 19:09:19,351 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:09:48,822 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:10:44,268 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:11:21,292 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:11:32,319 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:12:46,738 - INFO - Added memory for user 196966835365609472: Preferred name: On
2025-07-11 19:12:50,004 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:13:23,545 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:14:06,425 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:14:16,063 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:14:30,381 - INFO - Downloaded audio file: /tmp/tmp8y2k9dou.mp3 (493092 bytes)
2025-07-11 19:14:30,575 - INFO - Processing audio file: /tmp/tmp8y2k9dou.mp3 (size: 493092 bytes)
2025-07-11 19:14:30,575 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmp8y2k9dou.mp3 -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_3950_1752261270_da7k7wuh.wav
2025-07-11 19:14:30,650 - INFO - Output file created: /tmp/discord_audio_3950_1752261270_da7k7wuh.wav (size: 1969840 bytes)
2025-07-11 19:14:30,650 - INFO - Converted file: /tmp/discord_audio_3950_1752261270_da7k7wuh.wav (size: 1969840 bytes)
2025-07-11 19:14:30,650 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<1969840 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
/volume1/py/discord-llm-chatbot/main.py:565: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 19:15:29,582 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 19:15:29,590 - INFO - Whisper API response in 58.91s: 200
2025-07-11 19:15:29,590 - INFO - Transcription successful. Length: 1506 characters
2025-07-11 19:15:29,960 - INFO - Successfully transcribed audio message (length: 1506 chars)
2025-07-11 19:15:30,904 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:19:14,530 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:19:46,073 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:23:31,476 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:24:23,697 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:26:40,622 - WARNING - Unprocessed attachment type: v12044gd0000d1nkgpnog65lalkt2450.mov (content_type: video/quicktime)
2025-07-11 19:26:44,900 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-11 19:32:29] [INFO    ] discord.gateway: Shard ID None has successfully RESUMED session f8270c231e412b6c474fd6ce59b5eb4e.
2025-07-11 19:32:29,623 - INFO - Shard ID None has successfully RESUMED session f8270c231e412b6c474fd6ce59b5eb4e.
2025-07-11 19:38:13,564 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 19:44:27,100 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 19:44:27] [INFO    ] discord.client: logging in using static token
2025-07-11 19:44:27,103 - INFO - logging in using static token
[2025-07-11 19:44:28] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: b050f3f78002c34bb0af906af62226fd).
2025-07-11 19:44:28,090 - INFO - Shard ID None has connected to Gateway (Session ID: b050f3f78002c34bb0af906af62226fd).
2025-07-11 19:44:30,104 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:642: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 19:45:16,781 - ERROR - Media processing failed: Failed to process media file. FFmpeg error: Audio: aac (mp4a / 0x6134706D), 44100 Hz, stereo, 128 kb/s (default)
    Metadata:
      handler_name    : Core Media Audio
    Stream #0:1(und): Video: h264 (avc1 / 0x31637661), none(bt709, progressive), 576x1024, 1017 kb/s, SAR 1:1 DAR 9:16, 29.94 fps, 30 tbr, 15360 tbn, 15360 tbc (default)
    Metadata:
      handler_name    : Core Media Video
      encoder         : 'avc1'
Stream mapping:
  Stream #0:0 -> #0:0 (? (?) -> pcm_s16le (native))
Decoder (codec aac) not found for input stream #0:0

/volume1/py/discord-llm-chatbot/main.py:601: SyntaxWarning: invalid escape sequence '\w'
  name_patterns = [r"my name is (\w+)", r"call me (\w+)", r"i'm (\w+)", r"i am (\w+)"]
  File "/volume1/py/discord-llm-chatbot/main.py", line 891
    """
    ^
SyntaxError: unterminated triple-quoted string literal (detected at line 1494)
/volume1/py/discord-llm-chatbot/main.py:601: SyntaxWarning: invalid escape sequence '\w'
  name_patterns = [r"my name is (\w+)", r"call me (\w+)", r"i'm (\w+)", r"i am (\w+)"]
  File "/volume1/py/discord-llm-chatbot/main.py", line 891
    """
    ^
SyntaxError: unterminated triple-quoted string literal (detected at line 1494)
2025-07-11 19:50:58,154 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 19:50:58] [INFO    ] discord.client: logging in using static token
2025-07-11 19:50:58,157 - INFO - logging in using static token
[2025-07-11 19:50:59] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 448a16037840ae81a7b3ddb3244fe0e4).
2025-07-11 19:50:59,183 - INFO - Shard ID None has connected to Gateway (Session ID: 448a16037840ae81a7b3ddb3244fe0e4).
2025-07-11 19:51:01,194 - INFO - Ronin is now running! (hot config)
2025-07-11 19:51:13,650 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 19:51:13] [INFO    ] discord.client: logging in using static token
2025-07-11 19:51:13,654 - INFO - logging in using static token
[2025-07-11 19:51:14] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 5e147233428ef76421596a2ff14629cb).
2025-07-11 19:51:14,483 - INFO - Shard ID None has connected to Gateway (Session ID: 5e147233428ef76421596a2ff14629cb).
2025-07-11 19:51:16,496 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:692: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:692: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 19:51:26,391 - INFO - Running FFmpeg command: ffmpeg -y -i /tmp/tmp5trb1z7_.mov -map 0:a:0 -c:a pcm_s16le -ar 16000 -ac 1 -af atempo=1.5,atempo=2.0 -f wav /tmp/tmpvpx_swyc.wav
2025-07-11 19:51:26,391 - INFO - Running FFmpeg command: ffmpeg -y -i /tmp/tmpoui7a8gh.mov -map 0:a:0 -c:a pcm_s16le -ar 16000 -ac 1 -af atempo=1.5,atempo=2.0 -f wav /tmp/tmpu7qri1l4.wav
2025-07-11 19:51:26,397 - ERROR - Media processing failed: FFmpeg failed with return code 1. Error: Audio: aac (mp4a / 0x6134706D), 44100 Hz, stereo, 128 kb/s (default)
    Metadata:
      handler_name    : Core Media Audio
    Stream #0:1(und): Video: h264 (avc1 / 0x31637661), none(bt709, progressive), 576x1024, 1017 kb/s, SAR 1:1 DAR 9:16, 29.94 fps, 30 tbr, 15360 tbn, 15360 tbc (default)
    Metadata:
      handler_name    : Core Media Video
      encoder         : 'avc1'
Stream mapping:
  Stream #0:0 -> #0:0 (? (?) -> pcm_s16le (native))
Decoder (codec aac) not found for input stream #0:0

2025-07-11 19:51:26,399 - ERROR - Media processing failed: FFmpeg failed with return code 1. Error: Audio: aac (mp4a / 0x6134706D), 44100 Hz, stereo, 128 kb/s (default)
    Metadata:
      handler_name    : Core Media Audio
    Stream #0:1(und): Video: h264 (avc1 / 0x31637661), none(bt709, progressive), 576x1024, 1017 kb/s, SAR 1:1 DAR 9:16, 29.94 fps, 30 tbr, 15360 tbn, 15360 tbc (default)
    Metadata:
      handler_name    : Core Media Video
      encoder         : 'avc1'
Stream mapping:
  Stream #0:0 -> #0:0 (? (?) -> pcm_s16le (native))
Decoder (codec aac) not found for input stream #0:0

2025-07-11 19:55:48,159 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 19:55:48] [INFO    ] discord.client: logging in using static token
2025-07-11 19:55:48,162 - INFO - logging in using static token
[2025-07-11 19:55:49] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: f4b03a1c0e92111cef91d9073b625e33).
2025-07-11 19:55:49,112 - INFO - Shard ID None has connected to Gateway (Session ID: f4b03a1c0e92111cef91d9073b625e33).
2025-07-11 19:55:51,125 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:692: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 19:55:59,876 - INFO - Running FFmpeg command: ffmpeg -y -i /tmp/tmp4mhgj0jy.mov -map 0:a:0 -c:a pcm_s16le -ar 16000 -ac 1 -af atempo=1.5,atempo=2.0 -f wav /tmp/tmpnv5enc_0.wav
2025-07-11 19:56:00,007 - ERROR - Audio file not found: /tmp/tmpnv5enc_0.wav
2025-07-11 19:56:00,007 - ERROR - Transcription failed: Could not transcribe video: Audio file not found: /tmp/tmpnv5enc_0.wav
2025-07-11 19:56:02,127 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:692: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 19:56:59,508 - INFO - Running FFmpeg command: ffmpeg -y -i /tmp/tmp_j1vriwz.mp3 -map 0:a:0 -c:a pcm_s16le -ar 16000 -ac 1 -af atempo=1.5,atempo=2.0 -f wav /tmp/tmp09jxo2dz.wav
2025-07-11 19:56:59,689 - ERROR - Audio file not found: /tmp/tmp09jxo2dz.wav
2025-07-11 19:56:59,689 - ERROR - Transcription failed: Could not transcribe audio: Audio file not found: /tmp/tmp09jxo2dz.wav
2025-07-11 19:57:02,275 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:692: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
/volume1/py/discord-llm-chatbot/main.py:673: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 19:58:40,375 - INFO - Running FFmpeg command: ffmpeg -y -i /tmp/tmp55jnodnx.opus -map 0:a:0 -c:a pcm_s16le -ar 16000 -ac 1 -af atempo=1.5,atempo=2.0 -f wav /tmp/tmp1d2krbu2.wav
2025-07-11 19:58:40,418 - ERROR - Audio file not found: /tmp/tmp1d2krbu2.wav
2025-07-11 19:58:40,419 - ERROR - Transcription failed: Could not transcribe audio: Audio file not found: /tmp/tmp1d2krbu2.wav
2025-07-11 19:58:41,941 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:692: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 20:04:58,959 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 20:04:58] [INFO    ] discord.client: logging in using static token
2025-07-11 20:04:58,962 - INFO - logging in using static token
[2025-07-11 20:04:59] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: e366881374a7ff51778ec85c774e50a5).
2025-07-11 20:04:59,775 - INFO - Shard ID None has connected to Gateway (Session ID: e366881374a7ff51778ec85c774e50a5).
2025-07-11 20:05:01,784 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:692: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 20:05:14,976 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 20:05:30,616 - INFO - Running FFmpeg command: ffmpeg -y -i /tmp/tmpcrdvnr9z.mov -map 0:a:0 -c:a pcm_s16le -ar 16000 -ac 1 -af atempo=1.5,atempo=2.0 -f wav /tmp/tmpo_zfhju1.wav
2025-07-11 20:05:30,749 - ERROR - Error processing video: An error occurred while processing the video: cannot access local variable 'error_msg' where it is not associated with a value
Traceback (most recent call last):
  File "/volume1/py/discord-llm-chatbot/main.py", line 1081, in process_message
    processed_path, error_msg = process_media_file(temp_path, config.get("DEBUG", False))
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/volume1/py/discord-llm-chatbot/main.py", line 504, in process_media_file
    if (output_path is None or error_msg is not None) and not keep_failed:
                               ^^^^^^^^^
UnboundLocalError: cannot access local variable 'error_msg' where it is not associated with a value
2025-07-11 20:05:34,548 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
/volume1/py/discord-llm-chatbot/main.py:692: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 20:06:05,047 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 20:07:21,739 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 20:08:05,160 - WARNING - PyNaCl is not installed, voice will NOT be supported
[2025-07-11 20:08:05] [INFO    ] discord.client: logging in using static token
2025-07-11 20:08:05,164 - INFO - logging in using static token
[2025-07-11 20:08:06] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 261e96a499f98379d4b59084602e3120).
2025-07-11 20:08:06,132 - INFO - Shard ID None has connected to Gateway (Session ID: 261e96a499f98379d4b59084602e3120).
2025-07-11 20:08:08,157 - INFO - Ronin is now running! (hot config)
/volume1/py/discord-llm-chatbot/main.py:704: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 20:08:10,150 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 20:08:44,207 - INFO - Running FFmpeg command: ffmpeg -y -i /tmp/tmp4uvqr89x.mov -map 0:a:0 -c:a pcm_s16le -ar 16000 -ac 1 -af atempo=1.5,atempo=2.0 -f wav /tmp/tmpxohng059.wav
2025-07-11 20:08:44,383 - INFO - Processing audio file: /tmp/tmpxohng059.wav (size: 383486 bytes)
2025-07-11 20:08:44,383 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpxohng059.wav -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_1302_1752264524_pctn0gfp.wav
2025-07-11 20:08:44,404 - INFO - Output file created: /tmp/discord_audio_1302_1752264524_pctn0gfp.wav (size: 383452 bytes)
2025-07-11 20:08:44,404 - INFO - Converted file: /tmp/discord_audio_1302_1752264524_pctn0gfp.wav (size: 383452 bytes)
2025-07-11 20:08:44,404 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<383452 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
/volume1/py/discord-llm-chatbot/main.py:704: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat(),
2025-07-11 20:09:09,815 - INFO - HTTP Request: POST http://localhost:18129/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-07-11 20:09:09,816 - INFO - Whisper API response in 25.37s: 200
2025-07-11 20:09:09,816 - INFO - Transcription successful. Length: 238 characters
2025-07-11 20:09:10,037 - INFO - Successfully transcribed video message (length: 238 chars)
2025-07-11 20:09:13,306 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 20:09:45,221 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-11 20:10:24,938 - INFO - Running FFmpeg command: ffmpeg -y -i /tmp/tmp0vn660np.mp3 -map 0:a:0 -c:a pcm_s16le -ar 16000 -ac 1 -af atempo=1.5,atempo=2.0 -f wav /tmp/tmpg7ij6adw.wav
2025-07-11 20:10:25,036 - INFO - Processing audio file: /tmp/tmpg7ij6adw.wav (size: 657048 bytes)
2025-07-11 20:10:25,036 - INFO - Running ffmpeg command: ffmpeg -hide_banner -loglevel warning -y -i /tmp/tmpg7ij6adw.wav -ar 16000 -ac 1 -c:a pcm_s16le -f wav -fflags +bitexact /tmp/discord_audio_1302_1752264625_26rijp98.wav
2025-07-11 20:10:25,059 - INFO - Output file created: /tmp/discord_audio_1302_1752264625_26rijp98.wav (size: 657014 bytes)
2025-07-11 20:10:25,059 - INFO - Converted file: /tmp/discord_audio_1302_1752264625_26rijp98.wav (size: 657014 bytes)
2025-07-11 20:10:25,059 - INFO - Sending request to Whisper API: http://localhost:18129/v1/audio/transcriptions with data: {'file': '<657014 bytes>', 'model': 'Systran/faster-distil-whisper-small.en', 'response_format': 'text'}
